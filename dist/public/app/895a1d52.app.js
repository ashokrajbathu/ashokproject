"use strict";function ShoppingCart(a){this.cartName=a,this.clearCart=!1,this.checkoutParameters={},this.items=[],this.skuArray=[],this.loadItems()}function CartItem(a,b,c,d,e,f,g,h,i){this.sku=a,this.name=b,this.slug=c,this.image=g,this.category=h,this.packing=i,this.mrp=d,this.price=1*e,this.quantity=1*f,this.status=0}function checkoutParameters(a,b,c){this.serviceName=a,this.merchantID=b,this.options=c}if(angular.module("shopnxApp",["ngCookies","ngResource","ngAnimate","toastr","ngSanitize","btford.socket-io","ui.router","ui.bootstrap","tableSort","checklist-model","rzModule","infinite-scroll","darthwade.dwLoading","angularMoment","ui.select"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).run(["$rootScope","Auth","$state",function(a,b,c){a.$on("$stateChangeStart",function(a,d){b.isLoggedInAsync(function(e){d.authenticate&&!e&&(a.preventDefault(),b.saveAttemptUrl(),c.go("login"))})}),a.$on("$stateChangeSuccess",function(a,b){window.document.title=b.title+" - Websoc"}),a.spinner={active:!1,on:function(){this.active=!0},off:function(){this.active=!1}}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("login",{title:"Login to ",url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("signup",{title:"Signup for ",url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("settings",{title:"Settings - Change Password ",url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("LoginCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.login=function(c){a.submitted=!0,c.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(){b.redirectToAttemptedUrl()})["catch"](function(b){a.errors.other=b.message})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("shopnxApp").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("shopnxApp").controller("SignupCtrl",["$scope","Auth","$location","$window",function(a,b,c,d){a.user={},a.errors={},a.register=function(c){a.submitted=!0,c.$valid&&b.createUser({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(){b.redirectToAttemptedUrl()})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,d){c[d].$setValidity("mongoose",!1),a.errors[d]=b.message})})},a.loginOauth=function(a){d.location.href="/auth/"+a}}]),angular.module("shopnxApp").controller("AdminCtrl",["$scope","PaymentMethods","Setting","toastr",function(a,b,c,d){a.errors={},a.settings={},b.query({},function(b){a.payment=b[0]}),c.query({},function(b){a.settings=b[0]}),a.saveSettings=function(b){a.submitted=!0,b._id&&c.update({id:b._id},b).$promise.then(function(b){a.message="Shipping settings saved successfully."},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;d.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;d.error(c)}})}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("admin",{title:"Shop Settings - Payment Option ",url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("BrandCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("brand",{title:"Add, Remove, Edit Brands",url:"/brand",templateUrl:"app/brand/brand.html",controller:"BrandCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("CartCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("cart",{title:"Details of items in your shopping cart",url:"/cart",templateUrl:"app/cart/cart.html"})}]),angular.module("shopnxApp").controller("CategoryCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("category",{title:"Add, Remove, Edit categories",url:"/category",templateUrl:"app/category/category.html",controller:"CategoryCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("CheckoutCtrl",["$scope","Order","PaymentMethod","Shipping","Coupon","Country",function(a,b,c,d,e,f){a.msg="No items in cart.",a.customer={},a.coupon={},f.query().$promise.then(function(b){a.countries=b}),c.active.query().$promise.then(function(b){a.paymentMethods=b,a.customer.paymentMethod=b[0]}),d.best.query({},function(b){a.shipping=b[0]}),a.calculateShipping=function(b){d.best.query({country:b.name},function(b){console.log(b),a.shipping=b[0]})},a.placeOrder=function(c){var d={phone:a.customer.phone,name:a.customer.name,address:a.customer.address,city:a.customer.city,payment:"Pending",items:c};b.save(d),a.msg="Processing Payment ..."},a.removeCoupon=function(){a.coupon={}},a.checkCoupon=function(b,c){var d={};d.where={code:b,active:!0,minimumCartValue:{$lte:c}},e.query(d,function(b){a.coupon=b[0]})}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("checkout",{title:"Checkout with the items you selected",url:"/checkout",templateUrl:"app/checkout/checkout.html",controller:"CheckoutCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("ContactCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("contact",{title:"Contact Information",url:"/contact",templateUrl:"app/contact/contact.html",controller:"ContactCtrl"})}]),angular.module("shopnxApp").controller("CouponCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("coupon",{title:"Manage your shop coupons",url:"/coupon",templateUrl:"app/coupon/coupon.html",controller:"CouponCtrl"})}]),angular.module("shopnxApp").controller("CustomerCtrl",function(){}),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("customer",{title:"Customers Details",url:"/customer",templateUrl:"app/customer/customer.html",controller:"CustomerCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("DashboardCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("dashboard",{url:"/dashboard",templateUrl:"app/dashboard/dashboard.html",controller:"DashboardCtrl"})}]),angular.module("shopnxApp").directive("crudTable",["Modal","$injector","$loading","socket","toastr",function(a,b,c,d,e){return{templateUrl:"app/directive/table.html",restrict:"EA",scope:{obj:"="},link:function(f,g,h){f.title=h.api+"s";var i=JSON.parse(h.cols),j=[];f.noedit=h.noedit,f.nodelete=h.nodelete,f.noadd=h.noadd,angular.forEach(i,function(a){angular.forEach(a,function(a,b){var c;c="number"===a||"float"===a||"integer"===a||"currency"===a?"parseFloat":"lowercase",j.push({heading:b,dataType:a,sortType:c})})}),f.cols=j;var k=b.get(h.api);f.data=[],c.start("crudTable"),f.data=k.query(function(){c.finish("crudTable"),d.syncUpdates(h.api.toLowerCase(),f.data)}),f.edit=function(b){var c;c=b._id?"Editing "+b._id:"Add New",a.show(b,{title:c,api:h.api,columns:j,disabledColumn:h.disabledcolumn})},f.changeActive=function(a){a.active=!a.active,k.update({id:a._id},a).$promise.then(function(){},function(b){console.log(b),e.error(b.statusText+" ("+b.status+")"),a.active=!a.active})},f["delete"]=function(a){k["delete"]({id:a._id})},f.$on("$destroy",function(){d.unsyncUpdates(h.api.toLowerCase())})}}}]).directive("modalWindow",["$timeout",function(a){return{priority:1,link:function(b,c){a(function(){var a=c[0].querySelector("input");a&&a.focus()})}}}]).directive("sortableColumns",[function(){return{restrict:"A",replace:!0,templateUrl:"views/sortable-columns.tpl.html",scope:{columns:"=",itemsToSort:"="},link:function(a){a.columnClicked=function(b){a.columns.columnToSort.predicate===b.predicate?a.columns.columnToSort.reverse=!a.columns.columnToSort.reverse:a.columns.columnToSort=b,a.sortBy(a.columns.columnToSort)},a.sortBy=function(b){console.log(b),a.itemsToSort=_.sortBy(a.itemsToSort,function(a){switch(b.dataType){case"number":return Number(a[b.predicate]);case"date":return new Date(a[b.predicate]);default:return a[b.predicate].toString()}}),b.reverse&&(a.itemsToSort=a.itemsToSort.reverse())},a.columns.columnToSort=a.columns[1],a.sortBy(a.columns.columnToSort)}}}]).directive("onlyNumbers",function(){return function(a,b,c){var d=[8,9,13,37,39,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,110,190];b.bind("keydown",function(b){-1===$.inArray(b.which,d)&&(a.$apply(function(){a.$eval(c.onlyNum),b.preventDefault()}),b.preventDefault())})}}).directive("passwordMatch",[function(){return{restrict:"A",scope:!0,require:"ngModel",link:function(a,b,c,d){var e=function(){var b=a.$eval(c.ngModel),d=a.$eval(c.passwordMatch);return null!==d?b===d:void 0};a.$watch(e,function(a){d.$setValidity("passwordNoMatch",a)})}}}]).directive("ngConfirmClick",["$modal",function(a){var b=function(a,b){a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}};return b.$inject=["$scope","$modalInstance"],{restrict:"A",scope:{ngConfirmClick:"&",item:"="},link:function(c,d,e){d.bind("click",function(){var d=e.ngConfirmMessage||"Are you sure to delete? ",f='<div class="modal-header">Confirm Delete</div>';f+='<div class="modal-body">'+d+"</div>",f+='<div class="modal-footer"><button class="btn btn-danger" ng-click="ok()">Delete</button><button class="btn" ng-click="cancel()">Cancel</button></div>';var g=a.open({template:f,controller:b,windowClass:"modal-danger"});g.result.then(function(){c.ngConfirmClick({item:c.item})},function(){})})}}}]).directive("errSrc",[function(){return{link:function(a,b,c){b.bind("error",function(){c.src!==c.errSrc&&c.$set("src",c.errSrc)})}}}]),angular.module("shopnxApp").controller("DocumentationCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("documentation",{title:"Documentation",url:"/documentation",templateUrl:"app/documentation/documentation.html",controller:"DocumentationCtrl"})}]),ShoppingCart.prototype.loadItems=function(){var a=null!==localStorage?localStorage[this.cartName+"_items"]:null;if(null!==a&&null!==JSON)try{a=JSON.parse(a);for(var b=0;b<a.length;b++){var c=a[b];null!==c.sku&&null!==c.name&&null!==c.price&&(c=new CartItem(c.sku,c.name,c.slug,c.mrp,c.price,c.quantity,c.image,c.category,c.packing,c.status),this.items.push(c),this.skuArray.push(c.sku))}}catch(d){}},ShoppingCart.prototype.saveItems=function(){null!==localStorage&&null!==JSON&&(localStorage[this.cartName+"_items"]=JSON.stringify(this.items))},ShoppingCart.prototype.addItem=function(a,b,c,d,e,f,g,h,i){if(f=this.toNumber(f),0!==f){for(var j=!1,k=0;k<this.items.length&&!j;k++){var l=this.items[k];l.sku===a&&(j=!0,l.quantity=this.toNumber(this.toNumber(l.quantity)+f),l.quantity<=0&&(this.items.splice(k,1),this.skuArray.splice(k,1)))}if(!j){var m=new CartItem(a,b,c,d,e,f,g,h,i,0);this.items.push(m),this.skuArray.push(m.sku)}this.saveItems()}},ShoppingCart.prototype.getTotalPrice=function(a){for(var b=0,c=0;c<this.items.length;c++){var d=this.items[c];(void 0===a||d.sku===a)&&(b+=this.toNumber(d.quantity*d.price))}return b},ShoppingCart.prototype.getTotalPriceAfterShipping=function(){var a=0;return a=this.getTotalPrice(),500>a&&(a+=20),a},ShoppingCart.prototype.getTotalCount=function(a){for(var b=0,c=0;c<this.items.length;c++){var d=this.items[c];(void 0===a||d.sku===a)&&(b+=this.toNumber(d.quantity))}return b},ShoppingCart.prototype.clearItems=function(){this.items=[],this.skuArray=[],this.saveItems()},ShoppingCart.prototype.toNumber=function(a){return a=1*a,isNaN(a)?0:a},ShoppingCart.prototype.addCheckoutParameters=function(a,b,c){if("PayPal"!=a&&"Google"!=a&&"Stripe"!=a&&"COD"!=a)throw"serviceName must be 'PayPal' or 'Google' or 'Stripe' or 'Cash On Delivery'.";if(null==b)throw"A merchantID is required in order to checkout.";this.checkoutParameters[a]=new checkoutParameters(a,b,c)},ShoppingCart.prototype.checkout=function(a,b){if(this.addCheckoutParameters(a.name,a.email,a.options),null==a.name){var c=this.checkoutParameters[Object.keys(this.checkoutParameters)[0]];a=c.serviceName}if(null==a.name)throw"Use the 'addCheckoutParameters' method to define at least one checkout service.";var d=this.checkoutParameters[a.name];if(null==d)throw"Cannot get checkout parameters for '"+a.name+"'.";switch(d.serviceName){case"PayPal":this.checkoutPayPal(d,b);break;case"Google":this.checkoutGoogle(d,b);break;case"Stripe":this.checkoutStripe(d,b);break;case"COD":this.checkoutCOD(d,b);break;default:throw"Unknown checkout service: "+d.serviceName}},ShoppingCart.prototype.checkoutPayPal=function(a,b){for(var c={cmd:"_cart",business:a.merchantID,upload:"1",rm:"2",charset:"utf-8"},d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_number_"+f]=e.sku,c["item_name_"+f]=e.name,c["quantity_"+f]=e.quantity,c["amount_"+f]=e.price.toFixed(2)}var g=$("<form/></form>");g.attr("action","https://www.paypal.com/cgi-bin/webscr"),g.attr("method","POST"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g),this.clearCart=null==b||b,g.submit(),g.remove()},ShoppingCart.prototype.checkoutGoogle=function(a,b){for(var c={},d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_name_"+f]=e.sku,c["item_description_"+f]=e.name,c["item_price_"+f]=e.price.toFixed(2),c["item_quantity_"+f]=e.quantity,c["item_merchant_id_"+f]=a.merchantID}var g=$("<form/></form>");g.attr("action","https://sandbox.google.com/checkout/api/checkout/v2/checkoutForm/Merchant/"+a.merchantID),g.attr("method","POST"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g),this.clearCart=null==b||b,g.submit(),g.remove()},ShoppingCart.prototype.checkoutCOD=function(a,b){for(var c={},d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_description_"+f]=e.name}var g=$("<form/></form>");g.attr("action","/order"),g.attr("method","GET"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g),this.clearCart=null==b||b,g.submit(),g.remove()},ShoppingCart.prototype.checkoutStripe=function(a,b){for(var c={},d=0;d<this.items.length;d++){var e=this.items[d],f=d+1;c["item_name_"+f]=e.sku,c["item_description_"+f]=e.name,c["item_price_"+f]=e.price.toFixed(2),c["item_quantity_"+f]=e.quantity}var g=$(".form-stripe");g.empty(),g.attr("action",a.options.chargeurl),g.attr("method","POST"),g.attr("style","display:none;"),this.addFormFields(g,c),a.options||(a.options={}),this.addFormFields(g,a.options),$("body").append(g);var h=function(a){var c=$("<input type=hidden name=stripeToken />").val(a.id);$.blockUI({message:"Processing order..."}),g.append(c).submit(),this.clearCart=null==b||b,g.submit()};StripeCheckout.open({key:a.merchantID,address:!1,amount:100*this.getTotalPrice(),currency:"usd",name:"Purchase",description:"Description",panelLabel:"Checkout",token:h})},ShoppingCart.prototype.addFormFields=function(a,b){null!==b&&$.each(b,function(b,c){if(null!==c){var d=$("<input></input>").attr("type","hidden").attr("name",b).val(c);a.append(d)}})},angular.module("shopnxApp").factory("Cart",["Setting","$location",function(a,b){var c=new ShoppingCart("ShopNx");return{cart:c}}]),angular.module("shopnxApp").factory("factory",[function(){var a=42;return{someMethod:function(){return a}}}]).factory("Product",["$resource",function(a){var b={};return b=a("/api/products/:id",null,{update:{method:"PUT"}}),b.count=a("/api/products/count",null,{update:{method:"PUT"}}),b}]).factory("Shipping",["$resource",function(a){var b={};return b=a("/api/shippings/:id",null,{update:{method:"PUT"}}),b.best=a("/api/shippings/best",null,{update:{method:"PUT"}}),b}]).factory("SortOptions",[function(){var a={};return a.server=[{name:"Low Percentage",val:{"variants.price":1}},{name:"Hign Percentage",val:{"variants.price":-1}},{name:"Name (A-Z)",val:{name:1}},{name:"Name (Z-A)",val:{name:-1}}],a.client=[{name:"Price Asc",val:"variants[0].price"},{name:"Price Desc",val:"-variants[0].price"},{name:"Name Asc",val:"name"},{name:"Name Desc",val:"-name"}],a}]).factory("Category",["$resource",function(a){var b={};return b=a("/api/category/:id",null,{update:{method:"PUT"}}),b.parent=a("/api/category/parent/:id",null,{update:{method:"PUT"}}),b.all=a("/api/category/all",null,{update:{method:"PUT"}}),b}]).factory("Country",["$resource",function(a){return a("/api/countries/:id",null,{update:{method:"PUT"}})}]).factory("Brand",["$resource",function(a){return a("/api/brands/:id",null,{update:{method:"PUT"}})}]).factory("Coupon",["$resource",function(a){return a("/api/coupons/:id",null,{update:{method:"PUT"}})}]).factory("Feature",["$resource",function(a){var b={};return b=a("/api/features/:id",null,{update:{method:"PUT"}}),b.group=a("/api/features/group",null,{update:{method:"PUT"}}),b}]).factory("PaymentMethod",["$resource",function(a){var b={};return b=a("/api/PaymentMethods/:id",null,{update:{method:"PUT"}}),b.active=a("/api/PaymentMethods/active",null,{update:{method:"PUT"}}),b}]).factory("Customer",["$resource",function(a){return a("/api/customers/:id",null,{update:{method:"PUT"}})}]).factory("Setting",["$resource",function(a){return a("/api/settings/:id",null,{update:{method:"PUT"}})}]).factory("Order",["$resource",function(a){var b={};return b=a("/api/orders/:id",null,{update:{method:"PUT"}}),b.my=a("/api/orders/my",null,{update:{method:"PUT"}}),b.status=[{name:"Pending Payment",val:402},{name:"Order Placed",val:201},{name:"Order Accepted",val:202},{name:"Order Executed",val:302},{name:"Shipped",val:200},{name:"Delivered",val:200},{name:"Cancelled",val:204},{name:"Not in Stock",val:404}],b}]),angular.module("shopnxApp").controller("FeatureCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("feature",{url:"/feature",templateUrl:"app/feature/feature.html",controller:"FeatureCtrl"})}]),angular.module("shopnxApp").filter("unique",function(){return function(a,b){for(var c={},d=[],e=0;e<a.length;e++)"undefined"==typeof c[a[e][b]]&&(c[a[e][b]]="",d.push(a[e]));return d}}).filter("labelCase",[function(){return function(a){return a?(a=a.replace(/([A-Z])/g," $1"),a[0].toUpperCase()+a.slice(1)):a}}]).filter("camelCase",[function(){return function(a){return a?a.toLowerCase().replace(/ (\w)/g,function(a,b){return b.toUpperCase()}):a}}]).filter("reverse",[function(){return function(a){return a?a.slice().reverse():a}}]).filter("active",[function(){return function(a){var b="I";return a===!0&&(b="A"),b}}]).filter("status",[function(){return function(a){console.log(a);var b="I";return"0"===a&&(b="A"),b}}]).filter("propsFilter",function(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f];if(console.log(a[g]),null==a[g])return;var h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){d=!0;break}}d&&c.push(a)}):c=a,c}}),angular.module("shopnxApp").controller("InventoryCtrl",["$scope","socket","Product","Modal",function(a,b,c,d){a.products=[],a.products=c.query(function(){b.syncUpdates("product",a.products)}),a.addProduct=function(){""!==a.product&&(c.save(a.product),a.product={})},a.editProduct=function(a){d.show(a,{title:a.name})},a.deleteProduct=d["delete"](function(a){c["delete"]({id:a._id})}),a.$on("$destroy",function(){b.unsyncUpdates("product")})}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("inventory",{url:"/inventory",templateUrl:"app/inventory/inventory.html",controller:"InventoryCtrl"})}]),angular.module("shopnxApp").controller("InvoiceCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("invoice",{url:"/invoice",templateUrl:"app/invoice/invoice.html",controller:"InvoiceCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("ProductDetailsCtrl",["$scope","$rootScope","Product","Category","socket","$stateParams","$location","$state","$injector",function(a,b,c,d,e,f,g,h,i){var j=f.id;null!==localStorage&&null!==JSON&&null!==j&&(localStorage.productId=j);var k=null!==localStorage?localStorage.productId:null;a.product=c.get({id:k},function(b){e.syncUpdates("product",a.data),l("Category",b.category._id)}),a.categories=d.all.query(),a.i=0,a.changeIndex=function(b){a.i=b},a.navigate=function(a,b){b?g.replace().path(a+"/"+b.slug+"/"+b._id):g.replace().path("/")};var l=function(b,c){a.breadcrumb={},a.breadcrumb.items=[];var d=i.get(b);d.get({id:c}).$promise.then(function(c){a.breadcrumb.items.push(c),"Category"===b?a.breadcrumb.items.push({name:"All Categories"}):"Brand"===b&&a.breadcrumb.items.push({name:"All Brands"})})}}]).controller("MainCtrl",["$scope","$state","$stateParams","$location","Product","Brand","Category","Feature","socket","$rootScope","$injector","$loading",function(a,b,c,d,e,f,g,h,i,j,k,l){c.productSku&&(a.product=a.store.getProduct(c.productSku)),a.currencyFormatting=function(a){return"$ "+a.toString()},a.removeBrand=function(b){var c=a.fl.brands.indexOf(b);c>-1&&(a.fl.brands.splice(c,1),a.filter())},a.removeFeatures=function(b){console.log(a.fl.features,b)},a.removeCategory=function(){console.log("cat"),a.fl.categories=void 0,a.filter()},a.products={},a.filtered={},a.products.busy=!1,a.products.end=!1,a.products.after=0,a.products.items=[],a.fl={},a.fl.brands=[],a.fl.categories=[],a.priceSlider={},a.features=h.group.query(),a.navigate=function(a,c){if("sort"===a){delete c.$$hashKey;var e=JSON.stringify(c);b.go(b.current,{sort:e},{reload:!0})}else c?d.replace().path(a+"/"+c.slug+"/"+c._id):d.replace().path("/")};var m=function(b,c){a.breadcrumb.items=[];var d=k.get(b);d.get({id:c}).$promise.then(function(c){a.breadcrumb.items.push(c),"Category"===b?a.breadcrumb.items.push({name:"All Categories"}):"Brand"===b&&a.breadcrumb.items.push({name:"All Brands"})})},n=a.products.sort=c.sort,o={where:{active:!0},limit:10};a.filter=function(){var b=[];if(!a.products.busy){if(a.products.busy=!0,a.fl.features&&angular.forEach(a.fl.features,function(a,c){a.length>0&&b.push({"features.key":c,"features.val":{$in:a}})}),a.fl.brands&&a.fl.brands.length>0){var c=[];angular.forEach(a.fl.brands,function(a){c.push(a._id)}),b.push({"brand._id":{$in:c}})}if(a.fl.categories&&a.fl.categories.length>0){var d=[];angular.forEach(a.fl.categories,function(a){d.push(a._id)}),b.push({"category._id":{$in:d}})}b.length>0?o.where={$and:b}:o.where={},p(o,!0)}},a.sortNow=function(a){o.sort=a,p(o,!0)};var p=function(b,c){c&&(b.skip=0,a.products.items=[],a.products.end=!1,a.products.after=0),l.start("products"),a.products.busy=!0,e.query(b,function(b){for(var c=0;c<b.length;c++)a.products.items.push(b[c]);a.filtered.count=b.length+a.products.after,b.length>=5?a.products.after=a.products.after+b.length:a.products.end=!0,a.products.busy=!1,l.finish("products")},function(){a.products.busy=!1,l.finish("products")}),e.count.query(b,function(b){a.products.count=b[0].count})};if(a.resetPriceRange=function(){a.priceSlider={min:0,max:1e4,ceil:1e4,floor:0},a.filter()},"page"in c){c.page&&c._id?(a.products.brand={_id:c._id},a.breadcrumb={type:c.page},m(c.page,c._id),"Category"===c.page?a.fl.categories.push({_id:c._id,name:c.slug}):"Brand"===c.page&&a.fl.brands.push({_id:c._id,name:c.slug}),a.resetPriceRange()):o={sort:n,limit:10},a.filter()}else o={limit:10};a.scroll=function(){a.products.busy||a.products.end||(a.products.busy=!1,o.skip=a.products.after,p(o))},a.resetPriceRange()}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("main",{title:"Tecruitr",url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",params:{sort:null}}).state("productDetail",{title:"Details of selected product",params:{id:null,slug:null},url:"/p/:slug",templateUrl:"app/main/product-details.html",controller:"ProductDetailsCtrl"}).state("SubProduct",{title:"All products under current category or brand",url:"/:page/:slug/:_id",templateUrl:"app/main/main.html",controller:"MainCtrl",params:{id:null,sort:null,brand:null,category:null,price1:0,price2:1e5}})}]),angular.module("shopnxApp").controller("OrderCtrl",["$scope","Order","toastr",function(a,b,c){a.orderStatusLov=b.status,a.orders=b.my.query({},function(a){for(var b=0,c=0;c<a.length;c++){for(var d=0,e=0;e<a[c].items.length;e++)d+=a[c].items[e].price*parseInt(a[c].items[e].quantity),b+=a[c].items[e].price*parseInt(a[c].items[e].quantity);a[c].subTotal=d}a.total=b}),a.changeStatus=function(a){b.update({id:a._id},a).$promise.then(function(a){console.log(a)},function(a){if(console.log(a),a.data.errors){var b=a.data.errors;c.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var d=a.data.message;c.error(d)}})}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("order",{title:"Orders placed in recent past",url:"/order",templateUrl:"app/order/order.html",controller:"OrderCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("PaymentMethodCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("paymentMethod",{title:"Define payment Methods",url:"/paymentMethod",templateUrl:"app/paymentMethod/paymentMethod.html",controller:"PaymentMethodCtrl"})}]),angular.module("shopnxApp").controller("ProductCtrl",["$scope","socket","Product","Category","Brand","Feature","Modal","toastr",function(a,b,c,d,e,f,g,h){var i=[{heading:"sku",dataType:"text",sortType:"lowercase"},{heading:"name",dataType:"text",sortType:"lowercase"},{heading:"info",dataType:"text",sortType:"lowercase"}];a.products=[],a.product={},a.variant={},a.newFeature={},a.newKF={},a.product.variants=[],a.product.features=[],a.product.keyFeatures=[],a.features=f.query(),a.products=c.query({},function(){b.syncUpdates("product",a.products)}),a.categories=d.query(function(){b.syncUpdates("category",a.categories)}),a.brands=e.query(function(){b.syncUpdates("brand",a.brands)}),a.edit=function(a){var b;b=a.name?"Editing "+a.name:"Add New",g.show(a,{title:b,api:"Product",columns:i})},a.save=function(b){"variants"in a.product||(a.product.variants=[]),"keyFeatures"in a.product||(a.product.keyFeatures=[]),"features"in a.product||(a.product.features=[]),"size"in a.variant&&a.product.variants.push(a.variant),"val"in a.newKF&&(a.product.keyFeatures.push(a.newKF.val),console.log(a.product.keyFeatures)),"key"in a.newFeature&&a.product.features.push(a.newFeature),a.variant={},a.newKF={},a.newFeature={},"_id"in b?c.update({id:a.product._id},a.product).$promise.then(function(){h.success("Product info saved successfully","Success")},function(a){var b=a.data.errors;h.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}):c.save(a.product).$promise.then(function(){h.success("Product info saved successfully","Success")},function(a){var b=a.data.errors;h.error(b[Object.keys(b)].message,b[Object.keys(b)].name)})},a.changeActive=function(a){a.active=!a.active,c.update({id:a._id},a).$promise.then(function(){},function(b){h.error(b.statusText+" ("+b.status+")"),a.active=!a.active})},a.deleteFeature=function(b,c){a.product.features.splice(b,1),a.save(c)},a.deleteKF=function(b,c){a.product.keyFeatures.splice(b,1),a.save(c)},a.deleteVariants=function(b,c){a.product.variants.splice(b,1),a.save(c)},a.productDetail=function(b){b?a.product=b:a.product={}}}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("product",{title:"Products administration (Add, Remove, Edit)",url:"/product",templateUrl:"app/product/product.html",controller:"ProductCtrl",authenticate:!0})}]),angular.module("shopnxApp").controller("ShippingCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("shipping",{title:"Shipping Settings",url:"/shipping",templateUrl:"app/shipping/shipping.html",controller:"ShippingCtrl"})}]),angular.module("shopnxApp").controller("ShopCtrl",["$scope",function(a){a.message="Hello"}]),angular.module("shopnxApp").config(["$stateProvider",function(a){a.state("shop",{url:"/shop",templateUrl:"app/shop/shop.html",controller:"ShopCtrl"})}]),angular.module("shopnxApp").value("redirectToUrlAfterLogin",{url:"/"}).factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q","redirectToUrlAfterLogin",function(a,b,c,d,e,f,g){var h={};return e.get("token")&&(h=d.get()),{login:function(a,b){var g=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),h=d.get(),i.resolve(a),g()}).error(function(a){return this.logout(),i.reject(a),g(a)}.bind(this)),i.promise},logout:function(){e.remove("token"),h={}},saveAttemptUrl:function(){"/login"!==a.path().toLowerCase()||"/signup"!==a.path().toLowerCase()?g.url=a.path():g.url="/"},redirectToAttemptedUrl:function(){a.path(g.url)},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),h=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:h._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return h},isLoggedIn:function(){return h.hasOwnProperty("role")},isLoggedInAsync:function(a){h.hasOwnProperty("$promise")?h.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(h.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===h.role},getToken:function(){return e.get("token")}}}]),angular.module("shopnxApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("shopnxApp").factory("Modal",["$rootScope","$modal",function(a,b){var c={},d=function(a,b,c,d,e,f){var g=c.get(e.api);a.data=angular.copy(d),a.options=e,a.saveItem=function(c){a.data._id?g.update({id:a.data._id},a.data).$promise.then(function(){},function(a){if(a.data.errors){var b=a.data.errors;f.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;f.error(c)}}):g.save(a.data).$promise.then(function(){},function(a){if(a.data.errors){var b=a.data.errors;f.error(b[Object.keys(b)].message,b[Object.keys(b)].name)}else{var c=a.data.message;f.error(c)}}),b.close(c)},a.cancel=function(){b.dismiss("cancel")}};return d.$inject=["$scope","$modalInstance","$injector","data","options","toastr"],c.show=function(a,c){var e={templateUrl:"components/modal/modal.html",controller:d,controllerAs:"modal",windowClass:"modal-danger",resolve:{data:function(){return a},options:function(){return c}}};b.open(e)},c}]),angular.module("shopnxApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",
OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",f.resetText||d.data("resetText",d[e]()),d[e](f[b]||this.options[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});return this.$element.trigger(j),j.isDefaultPrevented()?void 0:(this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this)};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){function b(b){a(d).remove(),a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery),+function(a){var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:k.outerWidth(),o="body"==this.options.container?window.innerHeight:k.outerHeight(),p="body"==this.options.container?0:k.offset().left;e="bottom"==e&&h.top+h.height+j-m>o?"top":"top"==e&&h.top-m-j<0?"bottom":"right"==e&&h.right+i>n?"left":"left"==e&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;if("top"==c&&k!=g&&(d=!0,b.top=b.top+g-k),/bottom|top/.test(c)){var l=0;b.left<0&&(l=-2*b.left,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;(e||"destroy"!=c)&&(e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]())})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d),"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()}))}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),angular.module("shopnxApp").controller("NavbarCtrl",["$scope","$rootScope","$location","Auth","$modal","Cart","Category","Brand","SortOptions","$q","Product","$state",function(a,b,c,d,e,f,g,h,i,j,k,l){a.hideSubMenu=function(){},b.cart=f.cart,a.menu=[{title:"Home",link:"/"}],b.brands=h.query({active:!0}),b.sortOptions=i.server,a.isCollapsed=!0,a.isCollapsed1=!0,b.isLoggedIn=d.isLoggedIn,b.isAdmin=d.isAdmin,a.getCurrentUser=d.getCurrentUser,b.checkCart=function(b){return _.contains(a.cart.skuArray,b)?!1:!0},b.getQuantity=function(b){for(var c=0;c<a.cart.items.length;c++)if(a.cart.items[c].sku===b)return a.cart.items[c].quantity},a.logout=function(){d.logout(),c.path("/login")},a.isActive=function(a){return a===c.path()},a.onSelectProduct=function(b){l.go("productDetail",{id:b._id,slug:b.slug},{reload:!1}),a.search=""},a.categories=g.all.query(),a.globalSearch=function(c){c=c.toLowerCase();var d=j.defer();return c?k.query({where:{nameLower:{$regex:c}},limit:10,select:{id:1,name:1,slug:1}},function(c){console.log(c),a.$$phase?d.resolve(c):b.$apply(function(){d.resolve(c)})},function(c){a.$$phase?d.reject("Server rejected with status "+c.status):b.$apply(function(){d.reject("Server rejected with status "+c.status)})}):a.$$phase?d.reject("No search query "):b.$apply(function(){d.reject("No search query ")}),d.promise},a.openCart=function(b){b=a.cart=b;var c={templateUrl:"app/cart/cart.html",controller:m,controllerAs:"modal",windowClass:"ab-modal-window",resolve:{cart:function(){return b}}};e.open(c)};var m=function(a,b,c){a.cart=c,a.cancel=function(){b.dismiss("Close")}};m.$inject=["$scope","$modalInstance","cart"]}]),angular.module("shopnxApp").factory("socket",["socketFactory",function(a){var b=io("",{path:"/socket.io-client"}),c=a({ioSocket:b});return{socket:c,syncUpdates:function(a,b,d){d=d||angular.noop,c.on(a+":save",function(a){var c=_.find(b,{_id:a._id}),e=b.indexOf(c),f="created";c?(b.splice(e,1,a),f="updated"):b.push(a),d(f,a,b)}),c.on(a+":remove",function(a){var c="deleted";_.remove(b,{_id:a._id}),d(c,a,b)})},unsyncUpdates:function(a){c.removeAllListeners(a+":save"),c.removeAllListeners(a+":remove")}}}]),angular.module("shopnxApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div class=container><div class=row><div class=col-md-3></div><div class=col-md-6><div class=box><h1>Login</h1><p class=lead>Already our customer?</p><!-- <p class="text-muted">\n              Default account is <code>test@test.com</code> / <code>test</code><br/>Admin account is <code>admin@admin.com</code> / <code>admin</code></p>\n            </p>--><hr><form ng-submit=login(form) name=form novalidate><div class=form-group><label for=email>Email</label><input type=email name=email class=form-control ng-model=user.email required placeholder="Youe email id"><p class=help-block ng-show="form.email.$dirty && form.email.$error.required">Please enter your email.</p></div><div class=form-group><label for=password>Password</label><input type=password name=password class=form-control ng-model=user.password required placeholder=Password><p class=help-block ng-show="form.password.$dirty && form.password.$error.required">Please enter your password.</p></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div class=text-center><button class="btn btn-inverse btn-lg btn-login btn-primary" type=submit ng-disabled="form.$dirty && form.$invalid">Login</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href=/signup>Sign up</a></div></form></div></div><div class=col-md-3></div></div><hr></div>'),
a.put("app/account/settings/settings.html",'<div class=container><div class=row><div class=col-md-3></div><div class=col-md-6><div class=box><h1>Change Password</h1><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error placeholder="Old password"><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required placeholder="Set a new password"><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div><div class=col-md-3></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=container><div class=row><div class=col-md-3></div><div class=col-md-6><div class=box><h1>New account</h1><p class=lead>Not our registered customer yet?</p><p></p><p class=text-muted>If you have any questions, please feel free to <a href=/contact>contact us</a>, our customer service center is working for you 24/7.</p><hr><form ng-submit=register(form) novalidate name=form><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                                  \'has-error\': form.name.$invalid && submitted }"><label>Name</label><input name=name class=form-control ng-model=user.name required placeholder="Your name"><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n                                                  \'has-error\': form.email.$invalid && submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=user.email required mongoose-error placeholder="Email ID"><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                                  \'has-error\': form.password.$invalid && submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=user.password ng-minlength=3 required mongoose-error placeholder="Password"><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div><div class=text-center><button type=submit class="btn btn-primary"><i class="fa fa-user-md"></i> Sign up</button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href=/login>Login</a></div></form></div></div><div class=col-md-3></div></div><hr></div>'),a.put("app/admin/admin.html","<div class=container><p class=text-center><em>This shop settings page is restricted to users with the 'admin' role.</em></p><div class=row><div class=col-md-9></div><div class=col-md-3></div></div></div>"),a.put("app/brand/brand.html","<div class=col-md-12><crud-table api=Brand cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;info&quot;:&quot;text&quot;},{&quot;image&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/cart/cart.html",'<style>/*td{padding: 0 5px;}*/</style><button type=button class=close ng-click=cancel();><i class="fa fa-times-circle-o" style=margin:10px;color:blue></i></button><div class=modal-header><h3 class=modal-title>Shortlisted candidates</h3>- {{cart.getTotalCount()}}</div><div class=modal-body><div class=actions-continue><button class="btn btn-default pull-left" ng-click=cart.clearItems(); ng-disabled="cart.getTotalCount() <= 0">Clear list</button><!--<input type="text" placeholder="Filter" class="form-control col-md-4" style="width:250px;margin-left:20px;" ng-model="filterCart" autofocus/>--> <button value="Proceed to Checkout →" name=proceed class="btn btn-primary pull-right" onclick="window.location.href=\'/scheduleInterview\'" ng-disabled="cart.getTotalCount() <= 0" ng-click=cancel();>Schedule an interview →</button><div class=clearfix></div></div><br><table class="cart table table-striped"><thead><tr><th>#</th><th></th><th>Name</th><th>unlist</th></tr></thead><tbody><!-- empty cart message --><tr ng-hide="cart.getTotalCount() > 0"><td class=tdCenter colspan=7>. &nbsp;&nbsp;<a class="btn btn-primary" href="/" ng-click=cancel();>Find People</a></td></tr><tr ng-repeat="item in cart.items | filter: filterCart"><td>{{$index+1}}</td><td class=product-thumbnail><a><img ng-src=/assets/clothing/{{item.image}} alt={{item.name}} data-err-src=images/product.jpg width="54px"></a></td><td class=product-name><a ui-sref="productDetail({id:item.sku, slug:item.slug})" ng-click=cancel();>{{item.name}}</a></td><!-- <td>{{item.price | currency}}</td>\n\n                <td>\n                    <div class="input-group" style="width:105px;">\n                      <div class="input-group-addon btn" ng-disabled="item.quantity <= 1" ng-click="cart.addItem(item.sku, item.name, item.slug, item.mrp, item.price, -1)">-</div>\n                      <input class="form-control" type="text" min="1" step="1" ng-model="item.quantity" ng-change="cart.saveItems()">\n                      <div class="input-group-addon btn" ng-disabled="item.quantity >= 1000" ng-click="cart.addItem(item.sku, item.name, item.slug, item.mrp, item.price, +1)">+</div>\n                    </div>\n                </td>\n\n                <td><span><strong>{{item.price * item.quantity | currency}}</strong></span></td>--><td class=product-actions><a title="Remove this item" class=remove href="" ng-click="cart.addItem(item.sku, item.name,item.slug, item.mrp, item.price, -10000000)"><i class="fa fa-times"></i></a></td></tr></tbody></table></div>'),a.put("app/category/category.html","<div class=col-md-12><crud-table api=Category cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;info&quot;:&quot;text&quot;},{&quot;category&quot;:&quot;number&quot;},{&quot;parentCategory&quot;:&quot;number&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/checkout/checkout.html",'<div class=col-md-12><ul class=breadcrumb><li><a href="/">Home</a></li><li>Checkout</li></ul></div><div class=col-md-7 id=checkout><div class=box><form name=checkout_form class=form-horizontal role=form novalidate ng-show="cart.getTotalCount() > 0"><ul class="nav nav-pills nav-justified"><li class=active><a href=#><i class="fa fa-map-marker"></i><br>Address</a></li><li class=disabled><a href=#><i class="fa fa-truck"></i><br>Delivery Method</a></li><li class=disabled><a href=#><i class="fa fa-money"></i><br>Payment Method</a></li><li class=disabled><a href=#><i class="fa fa-eye"></i><br>Order Review</a></li></ul><div class=panel-heading><h3 class=panel-title>Enter shipping details</h3></div><div class=panel-body><div class=form-group><label class="col-sm-3 control-label no-padding-right">Phone</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input name=phone class=form-control placeholder="Your phone number" ng-model=customer.phone required tabindex=1 autofocus> <small class=errorMessage ng-show="checkout_form.phone.$dirty && checkout_form.phone.$error.isCustomer">Your phone number required.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Name</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input ng-model=customer.name name=name class=form-control required placeholder="Your name here" tabindex="2"> <small class=errorMessage ng-show="checkout_form.name.$dirty && checkout_form.name.$invalid">Your name required.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Address</label><div class=col-sm-7><span class="block input-icon input-icon-right"><textarea name=address ng-model=customer.address class=form-control required placeholder=Address tabindex=4></textarea><small class=errorMessage ng-show="checkout_form.address.$dirty && checkout_form.address.$invalid">We need your address to deliver.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">City</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input name=city ng-model=customer.city class=form-control placeholder="Your city" tabindex="5"> <small class=errorMessage ng-show="checkout_form.city.$dirty && checkout_form.city.$invalid">Please select your city.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Country</label><div class=col-sm-7><span class="block input-icon input-icon-right"><select name=paymentMethod ng-model=customer.country class=form-control required ng-options="option.name for option in countries | orderBy:\'name\' track by option.code" ng-change=calculateShipping(customer.country); class=form-control></select><div ng-if=!shipping._id>Sorry... We do not ship to this Country.</div><small class=errorMessage ng-show="checkout_form.country.$dirty && checkout_form.country.$invalid">Please select your country.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Payment Method</label><div class=col-sm-7><span class="block input-icon input-icon-right"><select name=paymentMethod ng-model=customer.paymentMethod class=form-control required ng-options="option.name for option in paymentMethods | orderBy:\'name\' track by option._id" class=form-control></select><small class=errorMessage ng-show="checkout_form.paymentMethod.$dirty && checkout_form.paymentMethod.$invalid">Please select payment method.</small></span></div></div><div class=form-group><label class="col-sm-3 control-label no-padding-right">Coupon</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input name=coupon ng-model=customer.coupon class=form-control placeholder="Discount Coupon" tabindex=5 ng-change="checkCoupon(customer.coupon, cart.getTotalPrice());"> <span class="text-muted text-success" ng-if=coupon.code>{{coupon.type}} of {{coupon.amount | currency}} was applied to the cart</span> <small class=errorMessage ng-show="checkout_form.coupon.$dirty && checkout_form.coupon.$invalid">Discount coupon was expired.</small></span></div></div></div><div class=box-footer><div class=pull-left><a href="/" class="btn btn-default"><i class="fa fa-chevron-left"></i>Back to basket</a></div><div class=pull-right><button type=submit class="btn btn-primary" ng-click=placeOrder(cart.items);cart.checkout(customer.paymentMethod);cart.clearItems(); ng-disabled="checkout_form.$invalid || !shipping._id" tabindex=6>Make Payment<i class="fa fa-chevron-right"></i></button></div></div></form></div><!-- /.box --></div><!-- /.col-md-9 --><div class=col-md-5><div class=box id=order-summary ng-if="cart.getTotalCount()>0"><div class=box-header><h3>Order summary</h3></div><p class=text-muted>Shipping and additional costs are calculated based on the values you have entered.</p><div class=table-responsive><table class=table><tbody><tr><td>Order subtotal</td><th>{{cart.getTotalPrice() | currency}}</th></tr><tr><td>Shipping and handling</td><td ng-if="cart.getTotalPrice()>=shipping.minOrderValue">Free Shipping</td><td ng-if="cart.getTotalPrice()<=shipping.minOrderValue">{{shipping.charge | currency}}<br><small><i><a href="/">Shop</a> {{shipping.minOrderValue-cart.getTotalPrice() | currency}} more for free shipping</i></small></td></tr><tr ng-if=coupon.amount><td>Coupon Discount</td><td><small>{{coupon.amount | currency}}</small></td></tr><tr class=total><td>Total</td><th ng-if="cart.getTotalPrice() >= shipping.minOrderValue">{{cart.getTotalPrice() - coupon.amount | currency}}</th><th ng-if="cart.getTotalPrice() < shipping.minOrderValue">{{cart.getTotalPrice() + shipping.charge - coupon.amount | currency}}</th></tr></tbody></table></div></div></div><!-- /.col-md-3 -->'),a.put("app/contact/contact.html",'<div class=col-md-12><ul class=breadcrumb><li><a href="/">Home</a></li><li>Contact</li></ul></div><div class=col-md-3><!-- *** PAGES MENU ***\n_________________________________________________________ --><!-- <div class="panel panel-default sidebar-menu">\n\n        <div class="panel-heading">\n            <h3 class="panel-title">Pages</h3>\n        </div>\n\n        <div class="panel-body">\n            <ul class="nav nav-pills nav-stacked">\n                <li>\n                    <a href="#">Text page</a>\n                </li>\n                <li>\n                    <a href="#">Contact page</a>\n                </li>\n                <li>\n                    <a href="#">FAQ</a>\n                </li>\n\n            </ul>\n\n        </div>\n    </div>\n\n    <!-- *** PAGES MENU END *** --><!--<div class="banner">\n        <a href="#">\n            <img src="/assets/img/banner.jpg" alt="sales 2014" class="img-responsive">\n        </a>\n    </div>--></div><div class=col-md-12><div class=box id=contact><h1>Contact</h1><p class=lead>Are you curious about something? Do you have some kind of problem with our product?</p><p>Please feel free to contact us, our customer service center is working for you 24/7.</p><hr><div class=row><div class=col-sm-4><h3><i class="fa fa-map-marker"></i> Address</h3><p>Tecruitr<br>Wastinit Technologies<br>Vel tech univesity<br>Chennai<br>Tamilnadu <strong>India</strong></p></div><!-- /.col-sm-4 --><div class=col-sm-4><h3><i class="fa fa-phone"></i> Call center</h3><p class=text-muted>This number is toll free if calling from India otherwise we advise you to use the electronic form of communication.</p><p><strong>+91 9999999999</strong></p></div><!-- /.col-sm-4 --><div class=col-sm-4><h3><i class="fa fa-envelope"></i> Electronic support</h3><p class=text-muted>Please feel free to write an email to us or to use our electronic ticketing system.</p><ul><li><strong><a href=mailto:>info@tecruitr.com</a></strong></li><li><strong><a href=#>Ticketio</a></strong> - our ticketing support platform</li></ul></div><!-- /.col-sm-4 --></div><!-- /.row --><hr><div id=map></div><hr><h2>Contact form</h2><form><div class=row><div class=col-sm-6><div class=form-group><label for=firstname>Firstname</label><input class=form-control id=firstname></div></div><div class=col-sm-6><div class=form-group><label for=lastname>Lastname</label><input class=form-control id=lastname></div></div><div class=col-sm-6><div class=form-group><label for=email>Email</label><input class=form-control id=email></div></div><div class=col-sm-6><div class=form-group><label for=subject>Subject</label><input class=form-control id=subject></div></div><div class=col-sm-12><div class=form-group><label for=message>Message</label><textarea id=message class=form-control></textarea></div></div><div class="col-sm-12 text-center"><button type=submit class="btn btn-primary"><i class="fa fa-envelope-o"></i> Send message</button></div></div><!-- /.row --></form></div></div><!-- /.col-md-9 -->'),a.put("app/coupon/coupon.html","<div class=col-md-12><crud-table api=Coupon cols=[{&quot;code&quot;:&quot;text&quot;},{&quot;amount&quot;:&quot;currency&quot;},{&quot;minimumCartValue&quot;:&quot;currency&quot;},{&quot;info&quot;:&quot;text&quot;},{&quot;type&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/customer/customer.html","<div class=col-md-12><crud-table api=User cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;email&quot;:&quot;text&quot;}] noedit=true></crud-table></div>"),a.put("app/dashboard/dashboard.html","<div class=col-md-12>This is the dashboard view.</div>"),a.put("app/directive/table.html",'<link rel=stylesheet href="bower_components/angular-tablesort/tablesort.css"><div class=box><div class=row><div class=col-sm-12><h1></h1><div class=table-responsive><div class="panel panel-primary"><div class=panel-heading>List of {{title}}<div class=sw-search><div class=nav-search id=nav-search><span class=input-icon><input placeholder="Filter list ..." class=nav-search-input ng-model=filter autocomplete=off style=width:300px autofocus> <i class="search-icon fa fa-search nav-search-icon"></i></span></div></div><!-- <span class="pull-right hidden-xs">\n                <div ng-hide="data.length>-1"><i class="fa fa-cog fa-3x fa-spin"></i>&nbsp;Loading</div>&nbsp;\n                <b>{{data.length}}</b> {{title}} found &nbsp;\n              </span> --></div><div class=panel-footer><div class=row><div class=col-xs-12 dw-loading=crudTable dw-loading-options="{text: \'\'}"><button type=button class="btn btn-danger" ng-click=edit({}); ng-if=!noadd>Add New <i class="fa fa-plus"></i></button></div></div></div><div class=panel-body><table class="table table-striped" ts-wrapper><thead><tr><th>#</th><th ng-repeat="c in cols" ts-criteria="{{c.heading}} | {{c.sortType}}">{{c.heading | labelCase}}</th><th>Edit / Remove</th></tr></thead><tbody><!-- <i class="fa fa-cog fa-spin fa-2x" ng-if="loadingTable"></i> --><tr ng-repeat="p in data.slice().reverse() | filter:filter track by p._id" id={{p._id}} ts-repeat><td>{{$index+1}}</td><td ng-repeat="c in cols" ng-switch=c.dataType><span ng-switch-when=boolean><button class=btn ng-class="{true:\'btn-success\', false:\'\'}[p[c.heading]]" ng-click=changeActive(p);>{{p.active | active}}</button></span> <span ng-switch-when=date>{{p[c.heading] | amCalendar}}</span> <span ng-switch-when=currency>{{p[c.heading] | currency}}</span> <span ng-switch-when=image><img src="images/{{p.image}}"></span> <span ng-switch-default>{{p[c.heading]}}</span></td><td><div class=btn-group><a class="btn btn-default btn-sm btn-default" ng-click=edit(p); ng-if=!noedit><i class="fa fa-edit"></i></a> <a class="btn btn-default btn-sm btn-danger" ng-confirm-message="Are you sure to delete?" ng-confirm-click=delete(p) item=p ng-if=!nodelete><i class="fa fa-trash-o"></i></a></div></td></tr></tbody></table></div></div></div></div></div></div>'),a.put("app/documentation/documentation.html",'<div class=col-md-12><ul class=breadcrumb><li><a href=#>Home</a></li><li>Documentation</li></ul></div><!-- *** LEFT COLUMN ***\n_________________________________________________________ --><div class=col-sm-9 id=blog-listing data-spy=scroll data-target=#navbar-example><div class=post><h2 id=live-demos>Live Demos</h2><p class=intro>ShopNx is a ready to use single page ecommerce website developed using AngularJS, NodeJS, Express, MongoDB<br><a class="btn btn-primary" href="http://biri.in/">Live Demo</a></p><blockquote><p>Easy to start and rich user interactive</p></blockquote><p class=read-more><a href=#features class="btn btn-primary">More Features...</a></p><div class=image><img src=/assets/img/biri.jpg class=img-responsive alt="Live Demos"></div><hr></div><div class=post><h2 id=installation>Installation</h2><p class=intro>Just 3 steps to install the application in your local machine.</p><p><h4>Step-1:</h4></p><p>Download, Install <a href="https://nodejs.org/">NodeJS</a> (Acts as our Server)<br>Download, Install <a href="https://www.mongodb.org/">MongoDB</a> (The Database for our application). We also need to run mongodb. Browse to the <em>(MongoDB installation folder)/bin</em> and run mongod</p><h4>Step-2:</h4>Unzip the downloaded file<h4>Step-3:</h4><em>Windows</em> Double click on start.bat found inside the directory<br>Now your browser should automatically open up with the application running on <a href="http://localhost:8080/">http://localhost:8080</a><br><em>Linux</em> Open your terminal, navigate to the extracted directory and enter the command <em>node .</em><br>Open your browser and navigate to <a href="http://localhost:8080/">http://localhost:8080</a><br><br><b>If you face any issue, I will do it for you in your machine or server</b><blockquote>There are web hosting solutions which offers free hosting for this APP. (e.g. Openshift, Amazon web services, Heroku)</blockquote><div class=image><a><img src=/assets/img/installation.jpg class=img-responsive alt="Installation instructions"></a></div><hr></div><h3>:::::::::::::: Store Front :::::::::::::::::::::</h3><div class=post><h2 id=store>Store</h2><p>This example store is an ecommerce application to sell <em>Fashion Products</em> of different brands and types. But this single page web application is capable of selling any type of products, starting from Home Appliances, Mobiles, Grocerry, Footwear, Cosmetics, etc...</p><p>This view displays all products with following facilities<ul><li>Product search</li><div class=image><a><img src=/assets/img/search.jpg class=img-responsive alt=Search></a></div><li>Filter by brand, category, price (with price slider)</li><div class=image><a><img src=/assets/img/brand.jpg class=img-responsive alt="Brand Filter"></a></div><li>Sort products by price or product name</li><div class=image><a><img src=/assets/img/sort.jpg class=img-responsive alt=Sort></a></div><li>Add to cart</li><li>Checkout with paypal</li><li>Auto paging facility which activates on scroll (Like most of the advanced shopping websites)</li><li>Get detailed information about specific products by clicking in on its name or image</li><li>See a quick view of present quantity in the cart with option to change cart quantity.</li></ul></p><div class=image><a><img src=/assets/img/store.jpg class=img-responsive alt="Store Front"></a></div><hr></div><div class=post><h2 id=product-details>Product Details</h2><p>Shows all available details of the products<ul><li>Product Name</li><li>Product Description</li><li>Product Image</li><li>Brand</li><li>Category of the product</li><li>Product MRP (Max Retail Price) and Offer Price</li><li>Additional product details and instructions</li><li>This view also allow users to add the product into the cart or remove from cart</li></ul></p><div class=image><a><img src=/assets/img/product-details.jpg class=img-responsive alt="Product Details"></a></div><hr></div><div class=post><h2 id=orders-history>Orders History</h2><p><em>For Users:</em> All the orders placed by the logged in user is available in this view.</p><p><em>For Administrators:</em> This view presents all orders placed by users with the option to change order status and shipping</p><div class=image><a><img src=/assets/img/orders.jpg class=img-responsive alt="Orders History"></a></div><hr></div><div class=post><h2 id=shopping-cart>Shopping Cart</h2><p>This store is featured with a shopping cart facility which is easy to use and fast.<ul><li>Get quick summary of what is there in Cart</li><li>Modify the cart quantity</li><li>Checkout using Paypal</li></ul></p><div class=image><a><img src=/assets/img/cart.jpg class=img-responsive alt="Shopping Cart"></a></div><hr></div><div class=post><h2 id=accounts-page>Accounts Page</h2><p>Features like Signup / SignIn / Change Password / Logout is integrated into this application already with high level of security, so that you no longer need to be worry about implementing all those features into the application</p><div class=image><a><img src=/assets/img/user-menu.jpg class=img-responsive alt="Accounts Page"></a></div><div class=image><a><img src=/assets/img/login.jpg class=img-responsive alt="Accounts Page"></a></div><hr></div><h3>::::::::::::::: Store Administration ::::::::::::::</h3><blockquote><em>Only administrators can access the pages</em></blockquote><div class=post><h2 id=add-brands>Manage Brands</h2><p>Administrators can add, edit, delete, filter brands of their store from this view</p><div class=image><a><img src=/assets/img/brands.jpg class=img-responsive alt="Manage Brands"></a></div><hr></div><div class=post><h2 id=add-categories>Manage Categories</h2><p><ul><li>Categories are presented in Parent-Child manner in this store for better organisation of products.</li><li>Store\'s navigation bar at top contains all the categories arranged in parent-child fashion.</li><div class=image><a><img src=/assets/img/navbar.jpg class=img-responsive alt="Manage Categories"></a></div><li>This view provides facility to add both parent and child categories, edit them, re-arrange category association according to their requirement.</li></ul></p><div class=image><a><img src=/assets/img/categories.jpg class=img-responsive alt="Manage Categories"></a></div><hr></div><div class=post><h2 id=add-products>Manage Products</h2><p><em>This is the main page for administrators to manage products at store.</em><ul><li>The right sidebar lists all the available products with a search box to filter the list.</li><li>Clicking on a product at the product list will populate the details of the product at the left sidebar</li><li>The left sidebar has option to change product name, details, brand, category</li><li>This left sidebar also contains a module to manage product variants which has facility for Size, MRP, Price and Image for that perticular variant</li></ul></p><div class=image><a><img src=/assets/img/products.jpg class=img-responsive alt="Add Products"></a></div><hr></div><div class=post><h2 id=manage-users>Manage Users (Customers)</h2><p>Using this view administrators can add, remove or edit users of their shopping web application</p><div class=image><a><img src=/assets/img/customers.jpg class=img-responsive alt="Manage customers"></a></div><hr></div><div class=post><h2 id=features>All Features</h2><h3>### Store Front features</h3><ul><li>Single page web app (SPA) created using AngularJS, NodeJS, Express, MongoDB (MEAN)</li><li>Fastest shop experience</li><li>Fast Product Search, Filter with AJAX</li><li>Price slider and multiple brand selector</li><li>Faster Add to Cart and Product Details</li><li>Checkout with Paypal Integration</li><li>Minimal User Registration process</li><li>Order history and Password Management</li><li>Facility for Multi level Category</li><li>Mobile optimized with Bootstrap</li><li>Instant updates for any changes made across all clients with SocketIO implementation</li><li>Loads more products on scroll (No paging required)</li><li>Clean and responsive user interface</li></ul><h3>### Store Back Office Features</h3><ul><li>Products, Categories, Brand, Order Management from admin panel with easy directives</li><li>Manage Order and Change Status from admin panel</li><li>Facility for Multiple product variants (size, color, price, image)</li><li>User roles - Administrator, User, Guest</li><li>SEO friendly URLs for each page</li><li>Secure and quality code - Takes care all single page web app standards</li><li>Securely built and prevent security attacks</li></ul></div></div><!-- /.col-md-9 --><!-- **LEFT COLUMN END *** --><div class=col-md-3><!-- *** BLOG MENU ***\n_________________________________________________________ --><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title>Overview</h3></div><div class=panel-body id=navbar-example><ul class="nav nav-pills nav-stacked"><li class=active><a href=#live-demos>Live Demos</a></li><li><a href=#installation>Installation</a></li><li><a href=#store>Store</a></li><li><a href=#product-details>Product Details</a></li><li><a href=#shopping-cart>Shopping Cart</a></li><li><a href=#accounts-page>Accounts Page</a></li><li><a href=#orders-history>Orders History</a></li><li><a href=#add-brands>Add Brands</a></li><li><a href=#add-categories>Add Categories</a></li><li><a href=#add-products>Add Products</a></li><li><a href=#manage-users>Manage Users</a></li><li><a href=#features>Features</a></li></ul></div></div></div><!-- /.col-md-9 -->'),a.put("app/feature/feature.html","<div class=col-md-12><crud-table api=Feature cols=[{&quot;key&quot;:&quot;text&quot;},{&quot;val&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table></div>"),a.put("app/inventory/inventory.html",'<div class=container><div class=row><div class=col-sm-12><h1></h1></div></div><div class=row><div class=col-lg-12><ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="thing in awesomeThings"><li><a href=# tooltip={{thing.info}}>{{thing.name}} <button type=button class=close ng-click=deleteThing(thing)>&times;</button></a></li></ul><ul class="nav nav-tabs nav-stacked col-md-4 col-lg-4 col-sm-6" ng-repeat="product in products"><li><a href=# tooltip={{product.info}} ng-click=editProduct(product)>{{product.name}} <button type=button class=close ng-click=deleteProduct(product.name,product)>&times;</button></a></li></ul></div></div><form class=product-form><label>Syncs in realtime across clients</label><p class=input-group><input class=form-control placeholder=Name ng-model=product.name> <input class=form-control placeholder=SKU ng-model=product.sku> <input class=form-control placeholder=SKU ng-model=product.category> <span class=input-group-btn><button type=submit class="btn btn-primary" ng-click=addProduct()>Add New</button></span></p></form></div>'),a.put("app/invoice/invoice.html","<div class=col-md-12>This is the invoice view.</div>"),a.put("app/main/main.html",'<link rel=stylesheet href="bower_components/angular-loading/angular-loading.css"><div class=col-md-12><ul class=breadcrumb><li><a ui-sref=main href="">Home</a></li><li ng-repeat="b in breadcrumb.items | reverse"><a href="/" ng-if=!$last>{{b.name}}</a> <span ng-if=$last>{{b.name}}</span></li></ul></div><div class=col-md-3><!--<div class="panel panel-default sidebar-menu">\n\n        <div class="panel-heading">\n             <h3 class="panel-title">Price Range <a class="btn btn-xs btn-danger pull-right" href="" ng-click="resetPriceRange();"><i class="fa fa-times-circle"></i> Reset</a></h3>\n         </div>\n\n         <div class="panel-body">\n\n             <form>\n                 <div class="form-group">\n                   <rzslider\n                     rz-slider-floor="priceSlider.floor"\n                     rz-slider-ceil="priceSlider.ceil"\n                     rz-slider-model="priceSlider.min"\n                     rz-slider-high="priceSlider.max"\n                     rz-slider-translate="currencyFormatting"\n                     rz-slider-on-end="filter()"></rzslider>\n\n                    $<strong>{{priceSlider.min}}</strong> &nbsp;-&nbsp; $<strong>{{priceSlider.max}}</strong>\n                 </div>\n\n             </form>\n\n         </div>\n      </div>--><!--<div class="panel panel-default sidebar-menu">\n\n          <div class="panel-heading">\n              <h3 class="panel-title">\n                <div class="nav-search" id="nav-search">\n                        <span class="input-icon">\n                            <input placeholder="Filter Technologies" class="nav-search-input" ng-model="filterBrand" autocomplete="off" type="text" autofocus style="width:100%">\n                            <i class="search-icon fa fa-search nav-search-icon"></i>\n                        </span>\n                </div>\n              </h3>\n          </div>\n\n          <div class="panel-body brand-filter-panel">\n\n              <form>\n                  <div class="form-group">\n                      <div class="checkbox" ng-repeat="b in brands | filter:filterBrand">\n                          <label>\n                            <input type="checkbox" value="{{b.name}}" checklist-model="fl.brands" checklist-value="b" ng-click="filter();" />\n                            {{b.name}}<span>&nbsp;</span>\n                          </label>\n                      </div>\n                  </div>\n\n<a class="btn btn-xs btn-warning pull-right" href="" ng-repeat="b in fl.brands" ng-click="removeBrand(b);" style="margin:0 0 5px 5px;"><i class="fa fa-times-circle"></i> {{b.name}}</a>\n              </form>\n\n          </div>\n      </div>--><div class="panel panel-default sidebar-menu"><div class=panel-heading><h3 class=panel-title><div class=nav-search id=nav-search><span class=input-icon><input placeholder="Filter Technologies ..." class=nav-search-input ng-model=filterFeature autocomplete=off autofocus style=width:100%> <i class="search-icon fa fa-search nav-search-icon"></i></span></div></h3></div><div class=panel-body><form><div class=form-group><div ng-repeat="k in features | filter:filterFeature"><h4>{{k.key}}</h4><div class=checkbox ng-repeat="f in k.v"><label><input type=checkbox value={{f}} checklist-model=fl.features[k.key] checklist-value=f ng-click="filter();"> {{f}}<span>&nbsp;</span></label></div></div></div></form></div></div></div><div class=col-md-9><div class="box info-bar"><div class=row><div class="col-sm-12 col-md-5 products-showing">Showing {{products.items.length}} people out of {{products.count}}.<!--$<strong>{{priceSlider.min}}</strong> &nbsp;-&nbsp; $<strong>{{priceSlider.max}}</strong>--></div><div class="col-sm-12 col-md-7 text-right products-number-sort"><div class=row><form class=form-inline><div class="col-md-12 col-sm-12"><div class=products-number><strong>Sort</strong><div class=btn-group><a href="" ng-repeat="o in sortOptions" ng-class="{active : o.val==products.sort}" class="btn btn-default btn-sm btn-primary" ng-click=sortNow(o.val);>{{o.name}}</a></div></div></div></form></div></div><div class="col-sm-12 col-md-8 products-number-sort"><div class=products-sort-by><span ng-if="fl.brands.length>0">Technologies:</span> <a class="btn btn-xs btn-warning" href="" ng-click=removeBrand(b); ng-repeat="b in fl.brands" style=margin-left:5px><i class="fa fa-times-circle"></i> {{b.name}}</a> <a ng-if="fl.categories.length>0" class="btn btn-xs btn-warning" href="" ng-click=removeCategory(); style=margin-left:5px><i class="fa fa-times-circle"></i>{{fl.categories[0].name}}</a> <span ng-repeat="features in fl.features"><a ng-if=features ng-click=removeFeatures(features); ng-repeat="f in features" class="btn btn-xs btn-warning" href="" style=margin-left:5px>{{f}}</a></span><!-- <select ng-model="products.brand"  ng-change="navigate(\'Brand\',products.brand);" ng-options="b.name for b in brands track by b._id" class="pull-right">\n                                      <option value="">All Brands</option>\n                                  </select> --></div></div></div></div><div infinite-scroll=scroll() infinite-scroll-disabled=products.busy infinite-scroll-distance=10><div class="row products" dw-loading=products dw-loading-options="{text: \'\'}"><div class=box ng-if="products.items.length==0"><div class=row><div class=col-sm-12><h3>No person found. Try removing some filters.</h3></div></div></div><div class=col-md-12><div class="panel panel-primary"><div class=panel-heading>List of people<!--<div class="sw-search" >\n                                    <div class="nav-search" id="nav-search">\n                                            <span class="input-icon">\n                                                <input placeholder="Filter products list ..." class="nav-search-input" ng-model="filter" autocomplete="off" type="text" autofocus>\n                                                <i class="search-icon fa fa-search nav-search-icon"></i>\n                                            </span>\n                                    </div>\n                                </div>--></div><div class=panel-body><div infinite-scroll=loadMore()><table class="table table-striped table-responsive" ts-wrapper><thead><tr><th ts-criteria=id>ID</th><th ts-criteria=name>Name</th><th ts-criteria=active>Percentage</th><th ts-criteria=active>Shortlist</th></tr></thead><tbody><tr ng-repeat="p in products.items" id={{p._id}} animate-on-change=p.price+p.quantity+p.packing+p.name ng-animate="\'animate\'" ts-repeat><!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>{{$index+1}}</td><td><a ui-sref="productDetail({id:p._id, slug:p.slug})">{{p.name}}</a></td><td><p class=price><del ng-if="p.variants[0].price!=p.variants[0].mrp">{{p.variants[0].mrp}}</del> {{p.variants[0].price}}</p></td><td><a ng-click="" ng-show=checkCart(p._id) class="btn btn-primary"><i class="fa fa-list"></i>Shortlist</a></td></tr></tbody></table></div><!-- Infinite Scroll --></div></div></div><!-- <div class="col-md-12 col-sm-12" ng-repeat="product in products.items">\n                            <div class="product">\n                                div class="flip-container">\n                                    <div class="flipper">\n                                        <div class="front">\n                                            <a ui-sref="productDetail({id:product._id, slug:product.slug})">\n                                                <img ng-src="/assets/clothing/{{product.variants[0].image}}"\n                                                    err-src="/assets/images/photo.png"\n                                                    alt="{{product.name}}" class="img-responsive">\n                                            </a>\n                                        </div>\n                                        <div class="back">\n                                            <a ui-sref="productDetail({id:product._id, slug:product.slug})">\n                                                <img ng-src="/assets/clothing/{{product.variants[0].image}}"\n                                                    err-src="/assets/images/photo.png"\n                                                    alt="{{product.name}}" class="img-responsive">\n                                            </a>\n                                        </div>\n                                    </div>\n                                </div>\n                                <a ui-sref="productDetail({id:product._id, slug:product.slug})" class="invisible">\n                                    <img src="/assets/clothing/{{product.variants[0].image}}" alt="" class="img-responsive">\n                                </a>\n                                <div class="text text-center">\n                                    <h3><a ui-sref="productDetail({id:product._id, slug:product.slug})">{{product.name}}<!--{{product.variants[0].size}}--><!--<p class="price"><del ng-if="product.variants[0].price!=product.variants[0].mrp">{{product.variants[0].mrp | currency : \'$\'}}</del> {{product.variants[0].price | currency : \'$\'}}</p>--><!--  <p class="buttons">\n                                      <div class="btn-group">\n                                      <a ui-sref="productDetail({id:product._id, slug:product.slug})" class="btn btn-default">View detail</a>\n                                      <a ng-click="cart.addItem(product._id, product.name, product.slug, product.variants[0].mrp, product.variants[0].price, -1)" ng-hide="checkCart(product._id)" class="btn btn-info">-</a>\n\n                                      <a ng-hide="checkCart(product._id)" class="btn btn-info">{{getQuantity(product._id);}}</a>\n\n                                      <a ng-click="cart.addItem(product._id, product.name, product.slug, product.variants[0].mrp, product.variants[0].price, +1)" ng-hide="checkCart(product._id)" class="btn btn-info">+</a>\n                                      </div>\n                                      <a ng-click="" ng-show="checkCart(product._id)" class="btn btn-primary"><i class="fa fa-list"></i>Shortlist</a>\n                                    </p>\n                                </div>\n                                <!-- /.text -\n                            </div>\n                            <!-- /.product --\n                        </div>\n\n                        <!-- /.col-md-4 --\n                    </div>\n                    <!-- /.products --></div><!-- /.col-md-9 --></div><!-- /just to enable infinite scroll --></div>'),
a.put("app/main/product-details.html",'<div class=container><div class=row><div class="col-sm-12 text-center"><ol class=breadcrumb><li><a ui-sref=main href="">Home</a></li><li ng-repeat="b in breadcrumb.items | reverse"><a href="/" ng-if=!$last>{{b.name}}</a> <span ng-if=$last>{{b.name}}</span></li></ol></div><hr class="clearfix"></div></div><div class=container><div class=row><!--<div class="col-md-3">\n          <!-- *** MENUS AND FILTERS ***\n_________________________________________________________ --><!--<div class="panel panel-default sidebar-menu">\n\n              <div class="panel-heading">\n                  <h3 class="panel-title">Categories</h3>\n              </div>\n              <div class="panel-body">\n                  <ul class="nav nav-pills nav-stacked category-menu">\n                      <li ng-repeat= "p in categories">\n                          <a href="category.html">{{p.name}} <span class="badge pull-right">2</span></a>\n                          <ul>\n                              <li ng-repeat="c in p.sub_categories"><a href="/Category/{{c.slug}}/{{c._id}}">{{c.name}}</a>\n                              </li>\n                          </ul>\n                      </li>\n                  </ul>\n\n              </div>\n          </div>--><!-- *** MENUS AND FILTERS END *** --><!--<div class="banner">\n              <a href="#">\n                  <img src="/assets/img/banner.jpg" alt="sales 2015" class="img-responsive">\n              </a>\n          </div>\n      </div>--><div class=col-md-12><div class=row id=productMain><div class=col-sm-3><div id=mainImage><img src=/assets/clothing/{{product.variants[0].image}} err-src=/assets/images/photo.png alt={{product.name}} class=img-responsive></div><!-- <div class="ribbon sale">\n                      <div class="theribbon">SALE</div>\n                      <div class="ribbon-background"></div>\n                  </div>\n                  <!-- /.ribbon --><!--  <div class="ribbon new">\n                      <div class="theribbon">NEW</div>\n                      <div class="ribbon-background"></div>\n                  </div>\n                  <!-- /.ribbon --></div><div class=col-sm-9><div class=box><h1 class=text-center>{{product.name}}</h1><p class=goToDescription><a href=#details class=scroll-to>Scroll to details</a></p><!--<p class="price"><del class="text-muted" ng-if="product.variants[0].price!=product.variants[0].mrp" >${{product.variants[i].mrp}}</del>&nbsp;${{product.variants[i].price}}</p>--><div class="text-center buttons"><div class="btn-group text-center"><!--<a href="/" class="btn btn-default"></a>--><!--<a ng-click="cart.addItem(product._id, product.name, product.slug, product.variants[0].mrp, product.variants[0].price, -1)" ng-hide="checkCart(product._id)" class="btn btn-primary">-</a>--><a ng-hide=checkCart(product._id) class="btn btn-default">Shortlisted</a><!--<a ng-hide="checkCart(product._id)" class="btn btn-default">{{getQuantity(product._id);}}</a>\n\n                        <a ng-click="cart.addItem(product._id, product.name, product.slug, product.variants[0].mrp, product.variants[0].price, +1)" ng-hide="checkCart(product._id)" class="btn btn-primary">+</a>\n                        </div>--> <a ng-click="cart.addItem(product._id, product.name, product.slug, product.variants[0].mrp, product.variants[0].price, 1, product.variants[0].image,product.category, product.variants[0].size ,true);" ng-show=checkCart(product._id) class="btn btn-primary"><i class="fa fa-shopping-cart"></i>Shortlist</a></div></div></div><div class=row id=thumbs><div class=col-xs-4 ng-repeat="v in product.variants" ng-click=changeIndex($index); ng-if="v.size!=product.variants[i].size"><a href="" class=thumb><img src=/assets/clothing/{{v.image}} err-src=/assets/images/photo.png alt={{product.name}} class=img-responsive> {{product.name}}<p class=price><del class=text-muted ng-if="v.price!=v.mrp">${{v.mrp}}</del></p></a></div></div><div><div class=box id=details><p><div ng-if=product.info><h4>Details</h4><p>{{product.info}}</p></div><!--<div ng-if="product.brand">\n                  <h4>Technologies</h4>\n                  <ul>\n                      <li><a href="/Brand/{{product.brand.name}}/{{product.brand._id}}">{{product.brand.name}}</a></li>\n                  </ul>\n                  </div>--><div ng-if=product.category><h4>Domain</h4><ul><li><a href=/Category/{{product.category.slug}}/{{product.category._id}}>{{product.category.name}}</a></li></ul></div><!-- <div ng-if="product.variants[i]">\n                  <h4>Weight</h4>\n                  <ul>\n                      <li>{{product.variants[i].weight}}</a></li>\n                  </ul>\n                  </div>--><div ng-if="product.features.length>0"><h4>Features</h4><ul><li ng-repeat="f in product.features">{{f.key}} : {{f.val}}</li></ul></div><div ng-if="product.keyFeatures.length>0"><h4>Technologies</h4><ul><li ng-repeat="f in product.keyFeatures">{{f}}</li></ul></div><blockquote><p>brilliant student</p></blockquote><hr><!--<div class="social">\n                      <h4>Show it to your friends</h4>\n                      <p>\n                          <a href="https://www.facebook.com/codenx2" class="external facebook" data-animate-hover="pulse"><i class="fa fa-facebook"></i></a>\n                          <a href="#" class="external gplus" data-animate-hover="pulse"><i class="fa fa-google-plus"></i></a>\n                          <a href="https://twitter.com/itswadesh" class="external twitter" data-animate-hover="pulse"><i class="fa fa-twitter"></i></a>\n                          <a href="#" class="email" data-animate-hover="pulse"><i class="fa fa-envelope"></i></a>\n                      </p>\n                  </div>--></p></div></div></div></div></div></div></div>'),a.put("app/order/order.html",'<div class=col-md-12><div class=box><div class=row><div class=col-md-12><h1>Orders History</h1><h3 class="bg-info well text-center">Total Spent: {{orders.total | currency}}</h3><div class="panel panel-primary" ng-repeat="o in orders | orderBy : \'orderDate\' : \'reverse\'"><div class=panel-heading><div class=panel-title><button class="btn btn-warning">{{o.orderNo}}</button>&nbsp;{{o.orderDate | amCalendar}}<div class="col-sm-3 pull-right" ng-if=isAdmin()><select ng-model=o.status ng-options="i.name for i in orderStatusLov track by i.val" ng-change=changeStatus(o) class=form-control></select></div></div></div><div class=panel-body><table class=table><tbody><tr ng-repeat="i in o.items"><td><img ng-src=/assets/clothing/{{i.image}} err-src=/assets/images/photo.png width="100px"></td><td>{{i.name}}<br><span class=text-muted>Qty: {{i.quantity}}</span><br><span class=text-muted>Packing: {{i.packing}}</span><br><span class=text-muted>Unit Price: {{i.price | currency}}</span></td><td><span class=text-muted>= {{i.quantity * i.price | currency}}</span></td></tr><tr class=well><td colspan=1></td><td class=text-right>Order Total:</td><td colspan=1>{{o.subTotal | currency}}</td></tr></tbody></table></div></div></div></div></div></div>'),a.put("app/paymentMethod/paymentMethod.html",'<div class=col-md-12><crud-table api=PaymentMethods cols=[{&quot;name&quot;:&quot;text&quot;},{&quot;email&quot;:&quot;text&quot;},{&quot;active&quot;:&quot;boolean&quot;}] nodelete=true noadd=true disabledcolumn=name></crud-table></div><!-- <div class="row">\n    <div class="col-md-3"></div>\n    <div class="col-md-6">\n        <div class="box">\n            <h1>Payment Options</h1>\n      <form class="form" name="paymentForm" ng-submit="savePaymentMethod(payment)" novalidate>\n\n        <div class="form-group">\n          <label>Paypal Email ID</label>\n\n          <input type="text" name="paypal" class="form-control" ng-model="payment.paypal"\n                 mongoose-error placeholder="Paypal Email" required/>\n                 <input type="checkbox" name="cod" ng-model="payment.cod"\n                        mongoose-error placeholder="COD"/>\n          <p class="help-block" ng-show="paymentForm.paypal.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n        <div class="form-group">\n          <label>Stripe publishable key</label>\n\n          <input type="text" name="stripe" class="form-control" ng-model="payment.stripe"\n                 mongoose-error placeholder="Stripe Key" required/>\n          <p class="help-block" ng-show="paymentForm.stripe.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n        <div class="form-group">\n          <label>Google Wallet</label>\n\n          <input type="text" name="google" class="form-control" ng-model="payment.google"\n                 mongoose-error placeholder="Google Email ID" required/>\n          <p class="help-block" ng-show="paymentForm.google.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n        <div class="form-group">\n          <label>Cash on Delivery</label>\n\n          <input type="checkbox" name="cod" class="form-control" ng-model="payment.cod"\n                 mongoose-error placeholder="COD"/>\n          <p class="help-block" ng-show="paymentForm.cod.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n\n        <p class="help-block"> {{ message }} </p>\n\n        <button class="btn btn-lg btn-warning" type="submit" ng-disabled="paymentForm.$pristine" ng-disabled="paymentForm.$dirty && paymentForm.$invalid">Save Payment Methods</button>\n      </form>\n    </div>\n    </div>\n    <div class="col-md-3"></div>\n  </div> -->'),a.put("app/product/product.html",'<link rel=stylesheet href="bower_components/angular-tablesort/tablesort.css"><form name=product_form><div class=col-sm-12><div class=box><h1>Products Manager</h1><div class="alert alert-info">Shipping will be free, if no weight specified</div></div></div><div class=col-md-7><button type=button class="btn btn-danger" ng-click=edit({});><i class="fa fa-plus"></i>&nbsp;Add New</button> <button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i> &nbsp;Save</button> &nbsp;&nbsp;<a ui-sref="productDetail({id:product._id, slug:product.slug})">{{product.name}}</a><hr><div class=box ng-if=product._id><form class=form-horizontal role=form><div class=form-group><div class=col-md-12><div class="form-group row"><label for=id class="col-md-1 control-label">ID</label><div class=col-md-2><input ng-model=product.id disabled class=form-control placeholder="ID"></div><label for=sku class="col-md-1 control-label">SKU</label><div class=col-md-2><input ng-model=product.sku class=form-control placeholder="SKU"></div><label for=name class="col-md-1 control-label text-right">Name</label><div class=col-md-5><input ng-model=product.name class=form-control placeholder="Name"></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Category</label><div class=col-md-4><select ng-model=product.category ng-options="option.name for option in categories | orderBy:\'name\' track by option._id" class=form-control><option value="">Select Category</option></select><ui-select ng-model=product.category theme=bootstrap title="Select Category"><ui-select-match placeholder="Select Category...">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="c in categories | propsFilter: {name: $select.search}"><span ng-bind-html="c.name | highlight: $select.search"></span></ui-select-choices></ui-select></div><label for=id class="col-md-1 control-label">Brand</label><div class=col-md-4><select ng-model=product.brand ng-options="i.name for i in brands | orderBy:\'name\' track by i._id" class=form-control><option value="">Select Brand</option></select><ui-select ng-model=product.brand theme=bootstrap title="Select Brand"><ui-select-match placeholder="Select Brand...">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="b in brands | propsFilter: {name: $select.search}"><span ng-bind-html="b.name | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><hr><div class="form-group row"><label for=id class="col-md-2 control-label">Description</label><div class=col-md-12><textarea ng-model=product.info class=form-control></textarea></div></div></div></div><hr><div class=clearfix></div><div class="panel panel-primary"><div class=panel-heading>Features <a href=/feature class=pull-right>Create New</a></div><div class=panel-body><table class="table table-striped table-responsive"><thead><tr><th>#</th><th>Key</th><th>Value</th></tr></thead><tbody><tr ng-repeat="feature in product.features track by $index"><td>{{$index+1}}</td><td><!-- <input type="text" ng-model="feature.key" style="width:150px;" placeholder="Key"/> --><select ng-model=feature.key ng-options="o.key as o.key for o in features | unique: \'key\'" class=form-control><option value="">Select Feature Key</option></select></td><td><select ng-model=feature.val ng-options="o.val as o.val for o in features | unique: \'val\'" class=form-control><option value="">Select Feature Value</option></select><ui-select ng-model=selected.feature[$index] theme=bootstrap title="Select Feature Value" ng-init="selected.feature[$index] = feature" style="max-width: 200px"><ui-select-match placeholder="Select Feature Value...">{{$select.selected.val}}</ui-select-match><ui-select-choices repeat="f in features | propsFilter: {val: $select.search}"><span ng-bind-html="f.val | highlight: $select.search"></span></ui-select-choices></ui-select><!-- <input type="text" ng-model="feature.val" style="width:150px;" placeholder="Value"/> --></td><td><div class=btn-group><button type=submit class="btn btn-info" ng-click=save(product);><i class="fa fa-save"></i></button> <button type=button class="btn btn-danger" ng-click=deleteFeature($index,product);><i class="fa fa-trash-o"></i></button></div></td></tr><tr><td>New</td><td><!-- <input type="text" ng-model="newFeature.key" style="width:150px;" placeholder="Key"/> --><select ng-model=newFeature.key ng-options="o.key as o.key for o in features | unique: \'key\'" class=form-control><option value="">Select Feature</option></select></td><td><select ng-model=newFeature.val ng-options="o.val as o.val for o in features | unique: \'val\'" class=form-control><option value="">Select Feature Value</option></select></td><td></td></tr></tbody></table></div></div><hr><div class=clearfix></div><div class="panel panel-primary"><div class=panel-heading>Key Features</div><div class=panel-body><table class="table table-striped table-responsive"><thead><tr><th>#</th><th></th></tr></thead><tbody><tr ng-repeat="kf in product.keyFeatures track by $index"><td>{{$index+1}}</td><td><input ng-model=product.keyFeatures[$index] style=width:150px placeholder="Feature"></td><td><div class=btn-group><button type=button class="btn btn-danger" ng-click=deleteKF($index,product);><i class="fa fa-trash-o"></i></button></div></td></tr><tr><td>New</td><td><input ng-model=newKF.val style=width:150px placeholder="Key Feature"></td><td></td></tr></tbody></table></div></div><hr><div class=clearfix></div><div class="panel panel-primary"><div class=panel-heading>Product Variants</div><div class=panel-body><table class="table table-striped table-responsive"><thead><tr><th>#</th><th>Size</th><th>Weight</th><th>MRP</th><!--  ts-default --><th>Price</th><th>Image</th><th></th></tr></thead><tbody><tr ng-repeat="p in product.variants track by $index" id={{p._id}}><!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>{{$index+1}}</td><td><input ng-model=p.size style=width:70px placeholder="Size"></td><td><input ng-model=p.weight style=width:70px placeholder="Weight"></td><td><input ng-model=p.mrp style=width:70px placeholder="MRP"></td><td><input ng-model=p.price style=width:70px placeholder="Price"></td><td><input ng-model=p.image style=width:150px placeholder="Image"></td><td><div class=btn-group><button type=button class="btn btn-danger" ng-click=deleteVariants($index,product);><i class="fa fa-trash-o"></i></button></div></td></tr><tr><!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>New</td><td><input ng-model=variant.size style=width:70px placeholder="Size"></td><td><input ng-model=variant.weight style=width:70px placeholder="Weight"></td><td><input ng-model=variant.mrp style=width:70px placeholder="MRP"></td><td><input ng-model=variant.price style=width:70px placeholder="Price"></td><td><input ng-model=variant.image style=width:150px placeholder="Image"></td><td></td></tr></tbody></table></div></div></form></div><div class=box ng-if=!product._id><h3>Click on the product name to view details... <i class="fa fa-arrow-right"></i></h3></div></div><div class=col-md-5><div class="panel panel-primary"><div class=panel-heading>List of products<div class=sw-search><div class=nav-search id=nav-search><span class=input-icon><input placeholder="Filter products list ..." class=nav-search-input ng-model=filter autocomplete=off autofocus> <i class="search-icon fa fa-search nav-search-icon"></i></span></div></div></div><div class=panel-body><div infinite-scroll=loadMore()><table class="table table-striped table-responsive" ts-wrapper><thead><tr><th ts-criteria=id>ID</th><th ts-criteria=name>Name</th><th ts-criteria=active>Status</th></tr></thead><tbody><tr ng-repeat="p in products | filter:filter" id={{p._id}} animate-on-change=p.price+p.quantity+p.packing+p.name ng-animate="\'animate\'" ts-repeat><!-- <td><img src="images/{{p.category}}/{{p.image}}"/> </td>--><td>{{$index+1}}</td><td><a href="" ng-click=productDetail(p);>{{p.name}}</a></td><td><button class=btn ng-class="{true:\'btn-success\', false:\'\'}[p.active]" ng-click=changeActive(p);>{{p.active | active}}</button></td></tr></tbody></table></div><!-- Infinite Scroll --></div></div></div></form>'),a.put("app/shipping/shipping.html",'<div class=col-md-12><div class=row><div class=box><h3>Shipping Settings</h3><div class=alert-info>Weight is always in grams. Please enter stripped out version. e.g.: 100 instead of 100g or 100kg</div></div></div></div><crud-table api=Shipping cols=[{&quot;carrier&quot;:&quot;text&quot;},{&quot;country&quot;:&quot;text&quot;},{&quot;charge&quot;:&quot;currency&quot;},{&quot;minWeight&quot;:&quot;number&quot;},{&quot;maxWeight&quot;:&quot;number&quot;},{&quot;minOrderValue&quot;:&quot;currency&quot;},{&quot;active&quot;:&quot;boolean&quot;}]></crud-table><!-- <div class="col-md-12">\n      <div class="row">\n        <div class="box">\n          <form class="form" name="shippingForm" ng-submit="saveSettings(settings)" novalidate>\n\n      <div class="form-group">\n        <label>Free shipping on minimum order value of </label>\n        <input type="text" name="shipping" class="form-control" ng-model="settings.minOrderValue"\n               mongoose-error placeholder="Minimum Order Value" required/>\n        <p class="help-block" ng-show="shippingForm.shipping.$error.mongoose">\n            {{ errors.other }}\n        </p>\n        </div>\n\n        <div class="form-group">\n          <label>Shipping Charge</label>\n          <input type="text" name="shippingCharge" class="form-control" ng-model="settings.shippingCharge"\n                 mongoose-error placeholder="Charge" required/>\n          <p class="help-block" ng-show="shippingForm.shippingCharge.$error.mongoose">\n              {{ errors.other }}\n          </p>\n        </div>\n\n        <p class="help-block"> {{ message }} </p>\n\n        <button class="btn btn-lg btn-warning" type="submit" ng-disabled="shippingForm.$pristine" ng-disabled="shippingForm.$dirty && shippingForm.$invalid">Save Shipping Settings</button>\n      </form>\n    </div>\n  </div>\n</div> -->'),a.put("app/shop/shop.html","<div class=col-md-12>This is the shop view.</div>"),a.put("components/modal/modal.html",'<div class=modal-header><button type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=options.title ng-bind=options.title class=modal-title></h4></div><form name=modal-form class=form-horizontal role=form novalidate><div class=modal-body><p ng-if=options.body ng-bind=options.body></p><div class=form-group ng-repeat="i in options.columns" ng-if=options.columns><label class="col-sm-3 control-label no-padding-right">{{i.heading | labelCase}}</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input class=form-control name=name ng-model=data[i.heading] ng-disabled="i.heading==\'_id\' || (i.heading==options.disabledColumn && options.title===\'Add New\')" autofocus placeholder="{{i.heading | labelCase}}" ng-if="i.sortType===\'parseFloat\'" only-numbers> <input class=form-control name=name ng-model=data[i.heading] ng-disabled="i.heading==\'_id\' || (i.heading==options.disabledColumn && data._id)" autofocus placeholder="{{i.heading | labelCase}}" ng-if="i.sortType!==\'parseFloat\' && i.dataType!==\'boolean\'"> <input type=checkbox ng-model=data[i.heading] ng-if="i.dataType===\'boolean\'" class=form-control></span></div></div><div class=form-group ng-repeat="(i, name) in data track by $index" ng-if=!options.columns><label class="col-sm-3 control-label no-padding-right">{{i}}</label><div class=col-sm-7><span class="block input-icon input-icon-right"><input class=form-control name=name ng-model=data[i] ng-disabled="i==\'_id\'" autofocus></span></div></div></div><div class=modal-footer><!-- <button ng-repeat="button in options.buttons" ng-class="button.classes" ng-click="button.click($event)" ng-bind="button.text" class="btn"></button> --><!-- <button type="button" class="btn" ng-click="cancel();">Cancel</button> --><button class="btn btn-primary" ng-click=saveItem(data); type=submit>Save</button></div></form>'),a.put("components/navbar/navbar.html",'<div ng-controller=NavbarCtrl><!-- *** TOPBAR ***\n_________________________________________________________ --><div id=top><div class=container><div class="col-md-3 offer" data-animate=fadeInDown><div style=font-size:16px><strong><a href="/">Tecruitr</a></strong></div></div><div class=col-md-9 data-animate=fadeInDown><ul class=menu><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/signup\')}"><a href=/signup>Sign up</a></li><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/login\')}"><a href=/login>Login</a></li><li ng-show=isLoggedIn()><a href="/">Leaderboard</a></li><li ng-show=isLoggedIn()><a href="">Hello {{ getCurrentUser().name }}</a></li><li class=dropdown ng-show=isLoggedIn() dropdown=""><a href=# dropdown-toggle="" class=dropdown-toggle data-toggle=dropdown><i class="fa fa-dashboard">&nbsp;</i>Account<b class=caret></b></a><ul class=dropdown-menu role=menu><li ng-show=isAdmin() ng-class="{active: isActive(\'/product\')}"><a href=/product><i class="fa fa-truck">&nbsp;</i>Products</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/category\')}"><a href=/category><i class="fa fa-ticket">&nbsp;</i>Categories</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/brand\')}"><a href=/brand><i class="fa fa-tag">&nbsp;</i>Brands</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/feature\')}"><a href=/feature><i class="fa fa-tag">&nbsp;</i>Features</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/coupon\')}"><a href=/coupon><i class="fa fa-tag">&nbsp;</i>Coupons</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/order\')}"><a href=/order><i class="fa fa-road">&nbsp;</i>Orders</a></li><li class=divider></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}"><a href=/admin><i class="fa fa-user">&nbsp;</i>Shop Settings</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/customer\')}"><a href=/customer><i class="fa fa-user">&nbsp;</i>Customers</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/paymentMethod\')}"><a href=/paymentMethod><i class="fa fa-wrench">&nbsp;</i>Payment Method</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/shipping\')}"><a href=/shipping><i class="fa fa-wrench">&nbsp;</i>Shipping Settings</a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()><i class="fa fa-sign-out">&nbsp;</i>Logout</a></li><li class=divider></li></ul></li><li><a href=/contact>Contact</a></li><li ng-show=isLoggedIn()><a href=/calender>Calender</a></li><li ng-show=isLoggedIn()><a href=/tests>Tests</a></li><!-- <li><a href="/documentation">Documentation</a>--></ul></div></div><div class="modal fade" id=login-modal tabindex=-1 role=dialog aria-labelledby=Login aria-hidden=true><div class="modal-dialog modal-sm"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=Login>Customer login</h4></div><div class=modal-body><form action=customer-orders.html method=post><div class=form-group><input class=form-control id=email-modal placeholder=email></div><div class=form-group><input type=password class=form-control id=password-modal placeholder=password></div><p class=text-center><button class="btn btn-primary"><i class="fa fa-sign-in"></i> Log in</button></p></form><p class="text-center text-muted">Not registered yet?</p><p class="text-center text-muted"><a href=register.html><strong>Register now</strong></a>! It is easy and done in 1&nbsp;minute and gives you access to special discounts and much more!</p></div></div></div></div></div><!-- *** TOP BAR END *** --><!-- *** NAVBAR ***\n_________________________________________________________ --><div class="navbar navbar-default yamm" role=navigation id=navbar><div class=container><div class=col-md-12><div class=navbar-header><!--<a class="navbar-brand home" href="index.html" data-animate-hover="bounce">Tecruitr\n                <!--<img src="/assets/img/logo.gif" alt="CodeNx logo" class="hidden-xs">\n                <img src="/assets/img/logo.gif" alt="CodeNx logo" class="visible-xs"><span class="sr-only">Tecruitr- go to homepage</span>\n            </a>--><div class=navbar-buttons><button type=button class=navbar-toggle data-toggle=collapse data-target=#navigation ng-click="isCollapsed1 = !isCollapsed1"><span class=sr-only>Toggle navigation</span> <i class="fa fa-align-justify"></i></button><!-- <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#search">\n                    <span class="sr-only">Toggle search</span>\n                    <i class="fa fa-search"></i>\n                </button>--> <a class="btn btn-default navbar-toggle" ng-click="openCart(cart,\'lg\');" href=""><i class="fa fa-list">&nbsp;</i> <span class=hidden-xs>Shortlist({{cart.getTotalCount()}})<!--- {{cart.getTotalPrice() | currency:"$"}}--></span></a></div></div><!--/.navbar-header --><div class="navbar-collapse collapse navbar-static-top megamenu" id=navigation><div collapse=isCollapsed1 class="navbar-collapse collapse" id=navbar-main2><ul class="nav navbar-nav navbar-left"><li class="dropdown yamm-fw" ng-repeat="p in categories"><a href=# class=dropdown-toggle data-toggle=dropdown data-hover=dropdown data-delay=200>{{p.name}} <b class=caret></b></a><ul class=dropdown-menu><li><div class=yamm-content><div class=row><div class=col-sm-3 ng-repeat="c in p.sub_categories"><!-- <h5>All</h5> --><ul><li><a href=/Category/{{c.slug}}/{{c._id}} ng-click=hideSubMenu();>{{c.name}}</a></li></ul></div></div></div><!-- /.yamm-content --></li></ul></li></ul></div></div><!--/.nav-collapse --><div class=navbar-buttons><div class="navbar-collapse collapse right" id=basket-overview><a class="btn btn-primary navbar-btn" ng-click="openCart(cart,\'lg\');" href=""><i class="fa fa-list">&nbsp;</i> <span class=hidden-sm>Shortlist ({{cart.getTotalCount()}})<!--- {{cart.getTotalPrice() | currency:"$"}}--></span></a></div><!--/.nav-collapse --><!--<div class="navbar-collapse collapse right" id="search-not-mobile">\n                <button type="button" class="btn navbar-btn btn-primary" data-toggle="collapse" data-target="#search">\n                    <span class="sr-only">Toggle search</span>\n                    <i class="fa fa-search"></i>\n                </button>\n            </div>--></div><div class="collapse clearfix" id=search><form id=searchForm class="ng-scope ng-pristine ng-valid navbar-form" role=search><div class="nav-search text-center" id=nav-search><span class=input-icon><script type=text/ng-template id=searchTemplate.html><a><span>{{match.model.name}}</span></a></script><div class=input-group><input class="form-control text-left" name=q id=q autocomplete=off placeholder="Search for people, technologies" ng-model=search typeahead="p as p.name for p in globalSearch($viewValue)" typeahead-loading=loadingLocations typeahead-no-results=noResults typeahead-template-url=searchTemplate.html typeahead-on-select="onSelectProduct($item, $model, $label)" autofocus> <span class=input-group-btn><button type=submit class="btn btn-primary"><i class="fa fa-search"></i>Search</button></span></div></span></div></form><!-- <form class="navbar-form" role="search">\n                <div class="input-group">\n                    <input type="text" class="form-control" placeholder="Search">\n                    <span class="input-group-btn">\n\n  <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>\n\n    </span>\n                </div>\n            </form> --></div><!--/.nav-collapse --></div><!-- /.container --></div><!-- /#navbar --></div><!-- *** NAVBAR END *** --></div>')}]);